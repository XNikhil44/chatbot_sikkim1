<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sikkim Tourism Chatbot</title>
  <style>
    /* Page Styling */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to right, #e0f7fa, #fff3e0);
      color: #333;
    }

    header {
      background: #00695c;
      color: white;
      padding: 20px;
      text-align: center;
    }

    nav {
      background: #004d40;
      text-align: center;
      padding: 10px;
    }

    nav a {
      color: white;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
    }

    nav a:hover {
      text-decoration: underline;
    }

    main {
      padding: 30px;
      text-align: center;
    }

    .tourism-img {
      width: 100%;
      max-height: 400px;
      object-fit: cover;
      border-radius: 12px;
      margin: 20px 0;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.3);
    }

    footer {
      background: #00695c;
      color: white;
      text-align: center;
      padding: 15px;
      margin-top: 30px;
    }

    /* Floating Buttons */
    .btn {
      position: fixed;
      right: 20px;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.3);
      color: white;
      z-index: 1001;
    }

    #chatBtn {
      bottom: 20px;
      background: #25d366; /* WhatsApp green */
    }

    #chatBtn:hover {
      background: #20b954;
    }

    #micBtn {
      bottom: 90px;
      background: #ff5722; /* Orange */
    }

    #micBtn:hover {
      background: #e64a19;
    }

    /* Chatbot Container */
    #chatbot-container {
      display: none;
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 400px;
      height: 500px;
      background: white;
      border-radius: 12px;
      box-shadow: 0px 4px 12px rgba(0,0,0,0.4);
      overflow: hidden;
      z-index: 1000;
    }

    #chatbot-container iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    @media (max-width: 768px) {
      main {
        padding: 15px;
      }

      .tourism-img {
        max-height: 250px;
      }

      #chatbot-container {
        width: 90%;
        height: 70%;
        right: 5%;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <h1>Welcome to Sikkim Tourism</h1>
    <p>Explore the beauty of the Himalayas with our smart chatbot guide</p>
  </header>

  <!-- Navbar -->
  <nav>
    <a href="#">Home</a>
    <a href="#">Places</a>
    <a href="#">Culture</a>
    <a href="#">Contact</a>
  </nav>

  <!-- Main Content -->
  <main>
    <h2>Discover Sikkim</h2>
    <img src="https://upload.wikimedia.org/wikipedia/commons/f/fd/Tsomgo_Lake%2C_Sikkim.jpg" 
         alt="Sikkim Tourism" class="tourism-img">
    <p>
      Sikkim is a small but breathtakingly beautiful state in India, known for its majestic Himalayas, 
      rich culture, monasteries, and natural wonders. Our chatbot will guide you through your journey, 
      answer your queries, and suggest the best places to explore.
    </p>
  </main>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Sikkim Tourism | All Rights Reserved</p>
  </footer>

  <!-- Floating Buttons -->
  <button id="micBtn" class="btn">ðŸŽ¤</button>
  <button id="chatBtn" class="btn">ðŸ’¬</button>

  <!-- Chatbot Container -->
  <div id="chatbot-container">
    <iframe id="chatbot-frame" 
      src="https://www.chatbase.co/chatbot-iframe/WXJl80MOoH850gYH_yXdl">
    </iframe>
  </div>

  <script>
    // Toggle chatbot
    document.getElementById("chatBtn").onclick = function () {
      const box = document.getElementById("chatbot-container");
      box.style.display = (box.style.display === "block") ? "none" : "block";
    };

    // Speech Recognition (mic input)
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.lang = "en-US"; // change to "hi-IN" for Hindi
    recognition.interimResults = false;

    document.getElementById("micBtn").onclick = () => recognition.start();

    recognition.onresult = function (event) {
      const userSpeech = event.results[0][0].transcript;
      console.log("User said:", userSpeech);

      // Send to chatbot iframe
      const chatbotFrame = document.getElementById("chatbot-frame").contentWindow;
      chatbotFrame.postMessage({ type: "user-message", message: userSpeech }, "*");
    };

    // Speech Synthesis (bot replies in voice)
    window.addEventListener("message", function (event) {
      if (event.data && event.data.type === "bot-message") {
        const reply = event.data.message;
        console.log("Bot replied:", reply);

        const speech = new SpeechSynthesisUtterance(reply);
        speech.lang = "en-US"; // change to "hi-IN" for Hindi
        window.speechSynthesis.speak(speech);
      }
    });
  </script>

</body>
</html>
